# 2025-07-30 Day7 学習ログ

## 取り組んだ内容
- Flask メモアプリ v1 → SQLite 永続化を実装
- `/delete/<id>` ルートを追加しメモ削除対応
- `flask_memo/db.py` で CRUD 関数を作成（`sqlite3`）
- pytest で DB を tmp_path に作り、追加→削除のテスト

## 学んだこと
- SQLite3 の基本操作 (`AUTOINCREMENT PRIMARY KEY`, `row_factory`)
- Flask アプリで `current_app.config["DB_PATH"]` を利用し、テスト用 DB を切り替え
- Jinja2 テンプレートで id を使った動的リンク生成
- PowerShell × Flask：`python -m flask_memo.app` で相対 import 解決

## 詰まった点・解決策
| 問題 | 解決策 |
| --- | --- |
| `ImportError: attempted relative import with no known parent` | `python -m package.module` 形式で実行 |
| 既存 DB とテスト用 DB が混同 | `app.config["DB_PATH"]` に tmp_path を設定、helper `_db_path()` を導入 |

## 明日やること (Day8)
- JSON API 追加（GET / POST / DELETE）
- Flask-CORS を導入し、後日の React フロントから呼び出し可能に
- pytest で API テスト

## 所感
インメモリの疑似データから実 DB へ移行し、永続化の基礎を理解できた。相対インポートとアプリコンテキストの扱いでつまずいたが、構造を整理する良い機会になった。